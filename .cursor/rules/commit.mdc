---
description: Guidelines on Graphite Commit Messages For This Project
alwaysApply: true
---

We use Graphite for managing stacked pull requests. The following guidelines are to be followed for `gt create` and `gt modify` commands.

- For the first commit you are creating, if you are on a trunk branch (master) use `gt create`. Otherwise, ask the developer if they want to create the commits on a new branch (`gt create`) or add commits to the current branch (`gt modify -c`).
- For the rest of the commits, use `gt modify -c`.
- When you create the commits on a new branch
  - If the developer mentions that the commits is related to a linear issue, look up the git branch name to use via the linear MCP server. If the linear MCP server does not exist, tell the developer and stop proceeding.
  - Otherwise, come up with a descriptive branch name with the user appended e.g. `user/branch-name`.
  - Do not leave the branch name blank.
- Use conventional commit message. If the work is done inside a package, use the name of the package (or a shortened version if it is not ambiguated) of the changes as the scope of the commit. Optionally, you could also append the area where the work was done inside the package e.g. `feat(example-package/utils): implement new utility x`
- There is no need to list functions or symbols affected by the changes seperately from the main commit message body.
- Use -m for new line in the commit message, and do not use \n anywhere.

  GOOD:

  - `gt create user/abc-123-linear-issue-branch-name -m "subject" -m "line1" -m "line2"  ...`
  - `gt modify -c -m "subject" -m "line1" -m "line2"  ...`

  BAD:

  - `gt create user/abc-123-linear-issue-branch-name -m "subject\nline1\nline2\n..."`
  - `gt create user/abc-123-linear-issue-branch-name -m "subject" -m "line1\nline2\n..."`
  - `gt create -m "subject" -m "line1" -m "line2"  ...`
  - `gt modify -c -m "subject\nline1\nline2\n..."`
  - `gt modify -c -m "subject" -m "line1\nline2\n..."`.
